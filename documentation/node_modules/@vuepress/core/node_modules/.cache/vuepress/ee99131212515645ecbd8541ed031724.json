{"remainingRequest":"/home/pdimens/PopGen.jl/documentation/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pdimens/PopGen.jl/documentation/node_modules/vuepress-plugin-flexsearch/SearchBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pdimens/PopGen.jl/documentation/node_modules/vuepress-plugin-flexsearch/SearchBox.vue","mtime":1586028331063},{"path":"/home/pdimens/PopGen.jl/documentation/node_modules/cache-loader/dist/cjs.js","mtime":1585329509973},{"path":"/home/pdimens/PopGen.jl/documentation/node_modules/babel-loader/lib/index.js","mtime":1585329509994},{"path":"/home/pdimens/PopGen.jl/documentation/node_modules/cache-loader/dist/cjs.js","mtime":1585329509973},{"path":"/home/pdimens/PopGen.jl/documentation/node_modules/vue-loader/lib/index.js","mtime":1585329511712}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGbGV4c2VhcmNoIGZyb20gImZsZXhzZWFyY2giOwoKLyogZ2xvYmFsIFNFQVJDSF9NQVhfU1VHR0VTVElPTlMsIFNFQVJDSF9QQVRIUywgU0VBUkNIX0hPVEtFWVMgKi8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6ICcnLAogICAgICBmb2N1c2VkOiBmYWxzZSwKICAgICAgZm9jdXNJbmRleDogMCwKICAgICAgcGxhY2Vob2xkZXI6IHVuZGVmaW5lZCwKICAgICAgaW5kZXg6IG51bGwKICAgIH0KICB9LAoKICBtb3VudGVkICgpIHsKICAgIHRoaXMucGxhY2Vob2xkZXIgPSB0aGlzLiRzaXRlLnRoZW1lQ29uZmlnLnNlYXJjaFBsYWNlaG9sZGVyIHx8ICcnCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbkhvdGtleSkKCiAgICB0aGlzLnNldHVwRmxleFNlYXJjaCgpCiAgfSwKCiAgYmVmb3JlRGVzdHJveSAoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbkhvdGtleSkKICB9LAoKICBjb21wdXRlZDogewogICAgc2hvd1N1Z2dlc3Rpb25zICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB0aGlzLmZvY3VzZWQKICAgICAgICAmJiB0aGlzLnN1Z2dlc3Rpb25zCiAgICAgICAgJiYgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGgKICAgICAgKQogICAgfSwKCiAgICBzdWdnZXN0aW9ucyAoKSB7CiAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKQogICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuaW5kZXguc2VhcmNoKHF1ZXJ5LCAxMCkubWFwKHBhZ2UgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAuLi5wYWdlLAogICAgICAgICAgdGl0bGU6IHRoaXMuZ2V0UXVlcnlTbmlwcGV0KHBhZ2UpCiAgICAgICAgfQogICAgICB9KQoKICAgICAgcmV0dXJuIHJlc3VsdAogICAgfSwKCiAgICAvLyBtYWtlIHN1Z2dlc3Rpb25zIGFsaWduIHJpZ2h0IHdoZW4gdGhlcmUgYXJlIG5vdCBlbm91Z2ggaXRlbXMKICAgIGFsaWduUmlnaHQgKCkgewogICAgICBjb25zdCBuYXZDb3VudCA9ICh0aGlzLiRzaXRlLnRoZW1lQ29uZmlnLm5hdiB8fCBbXSkubGVuZ3RoCiAgICAgIGNvbnN0IHJlcG8gPSB0aGlzLiRzaXRlLnJlcG8gPyAxIDogMAogICAgICByZXR1cm4gbmF2Q291bnQgKyByZXBvIDw9IDIKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRQYWdlTG9jYWxlUGF0aCAocGFnZSkgewogICAgICBmb3IgKGNvbnN0IGxvY2FsZVBhdGggaW4gdGhpcy4kc2l0ZS5sb2NhbGVzIHx8IHt9KSB7CiAgICAgICAgaWYgKGxvY2FsZVBhdGggIT09ICcvJyAmJiBwYWdlLnBhdGguaW5kZXhPZihsb2NhbGVQYXRoKSA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGxvY2FsZVBhdGgKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuICcvJwogICAgfSwKCiAgICBpc1NlYXJjaGFibGUgKHBhZ2UpIHsKICAgICAgbGV0IHNlYXJjaFBhdGhzID0gU0VBUkNIX1BBVEhTCgogICAgICAvLyBhbGwgcGF0aHMgc2VhcmNoYWJsZXMKICAgICAgaWYgKHNlYXJjaFBhdGhzID09PSBudWxsKSB7IHJldHVybiB0cnVlIH0KCiAgICAgIHNlYXJjaFBhdGhzID0gQXJyYXkuaXNBcnJheShzZWFyY2hQYXRocykgPyBzZWFyY2hQYXRocyA6IG5ldyBBcnJheShzZWFyY2hQYXRocykKCiAgICAgIHJldHVybiBzZWFyY2hQYXRocy5maWx0ZXIocGF0aCA9PiB7CiAgICAgICAgcmV0dXJuIHBhZ2UucGF0aC5tYXRjaChwYXRoKQogICAgICB9KS5sZW5ndGggPiAwCiAgICB9LAoKICAgIG9uSG90a2V5IChldmVudCkgewogICAgICBpZiAoZXZlbnQuc3JjRWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSAmJiBTRUFSQ0hfSE9US0VZUy5pbmNsdWRlcyhldmVudC5rZXkpKSB7CiAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC5mb2N1cygpCiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKQogICAgICB9CiAgICB9LAoKICAgIG9uVXAgKCkgewogICAgICBpZiAodGhpcy5zaG93U3VnZ2VzdGlvbnMpIHsKICAgICAgICBpZiAodGhpcy5mb2N1c0luZGV4ID4gMCkgewogICAgICAgICAgdGhpcy5mb2N1c0luZGV4LS0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb2N1c0luZGV4ID0gdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGggLSAxCiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIG9uRG93biAoKSB7CiAgICAgIGlmICh0aGlzLnNob3dTdWdnZXN0aW9ucykgewogICAgICAgIGlmICh0aGlzLmZvY3VzSW5kZXggPCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHRoaXMuZm9jdXNJbmRleCsrCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZm9jdXNJbmRleCA9IDAKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgZ28gKGkpIHsKICAgICAgaWYgKCF0aGlzLnNob3dTdWdnZXN0aW9ucykgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLnN1Z2dlc3Rpb25zW2ldLnBhdGgKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoICE9PSBwYXRoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5zdWdnZXN0aW9uc1tpXS5wYXRoKQogICAgICB9OwoKICAgICAgdGhpcy5xdWVyeSA9ICcnCiAgICAgIHRoaXMuZm9jdXNJbmRleCA9IDAKICAgIH0sCgogICAgZm9jdXMgKGkpIHsKICAgICAgdGhpcy5mb2N1c0luZGV4ID0gaQogICAgfSwKCiAgICB1bmZvY3VzICgpIHsKICAgICAgdGhpcy5mb2N1c0luZGV4ID0gLTEKICAgIH0sCgogICAgc2V0dXBGbGV4U2VhcmNoICgpIHsKICAgICAgbGV0IGRlZmF1bHRPcHRpb25zID0gewogICAgICAgIGVuY29kZTogImV4dHJhIiwKICAgICAgICB0b2tlbml6ZTogImZ1bGwiLAogICAgICAgIHRocmVzaG9sZDogMSwKICAgICAgICByZXNvbHV0aW9uOiAzCiAgICAgIH0KICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLiRzaXRlLnRoZW1lQ29uZmlnLmZsZXhTZWFyY2hPcHRpb25zIHx8IGRlZmF1bHRPcHRpb25zCgogICAgICBvcHRpb25zID0gewogICAgICAgIC4uLm9wdGlvbnMsCiAgICAgICAgZG9jOiB7CiAgICAgICAgICBpZDogImtleSIsCiAgICAgICAgICBmaWVsZDogWyJ0aXRsZSIsICJjb250ZW50Il0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5pbmRleCA9IG5ldyBGbGV4c2VhcmNoKG9wdGlvbnMpOwogICAgICBjb25zdCB7IHBhZ2VzIH0gPSB0aGlzLiRzaXRlOwogICAgICB0aGlzLmluZGV4LmFkZChwYWdlcyk7CiAgICB9LAoKICAgIGdldFF1ZXJ5U25pcHBldCAocGFnZSkgewogICAgICBjb25zdCBxdWVyeVBvc2l0aW9uID0gcGFnZS5jb250ZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnF1ZXJ5KQogICAgICBjb25zdCBzdGFydEluZGV4ID0gcXVlcnlQb3NpdGlvbiAtIDIwIDwgMCA/IDAgOiBxdWVyeVBvc2l0aW9uIC0gMjAKICAgICAgY29uc3QgZW5kSW5kZXggPSBxdWVyeVBvc2l0aW9uICsgMzAKICAgICAgbGV0IHF1ZXJ5U25pcHBldCA9IHBhZ2UuY29udGVudC5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCkKICAgICAgICAudG9Mb3dlckNhc2UoKQogICAgICAgIC5yZXBsYWNlKC9bXFdfXSsvZywgIiAiKQoKICAgICAgY29uc3QgcXVlcnlXb3JkcyA9IHRoaXMucXVlcnkuc3BsaXQoJyAnKS5maWx0ZXIoKHYsIGksIGEpID0+ICEhdiAmJiBhLmluZGV4T2YodikgPT09IGkpOyAKICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHF1ZXJ5V29yZHMpIHsKICAgICAgICBxdWVyeVNuaXBwZXQgPSBxdWVyeVNuaXBwZXQucmVwbGFjZShuZXcgUmVnRXhwKHdvcmQsICdnaScpLCBgPHN0cm9uZyBjbGFzcz0idGV4dC0tcHJpbWFyeSI+JHt3b3JkfTwvc3Ryb25nPmApCiAgICAgIH0KCiAgICAgIGlmIChxdWVyeVNuaXBwZXQpIHsKICAgICAgICByZXR1cm4gYDxzdHJvbmcgY2xhc3M9InRleHQtLXByaW1hcnkiPiR7cGFnZS50aXRsZX08L3N0cm9uZz4gPiAuLiAke3F1ZXJ5U25pcHBldH0gLi5gCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHBhZ2UudGl0bGUKICAgICAgfQogICAgfSwKCiAgfQp9Cg=="},{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"SearchBox.vue","sourceRoot":"node_modules/vuepress-plugin-flexsearch","sourcesContent":["<template>\n  <div class=\"search-box\">\n    <input\n      @input=\"query = $event.target.value\"\n      aria-label=\"Search\"\n      :value=\"query\"\n      :class=\"{ 'focused': focused }\"\n      :placeholder=\"placeholder\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      @focus=\"focused = true\"\n      @blur=\"focused = false\"\n      @keyup.enter=\"go(focusIndex)\"\n      @keyup.up=\"onUp\"\n      @keyup.down=\"onDown\"\n      ref=\"input\"\n    >\n    <ul\n      class=\"suggestions\"\n      v-if=\"showSuggestions\"\n      :class=\"{ 'align-right': alignRight }\"\n      @mouseleave=\"unfocus\"\n    >\n      <li\n        class=\"suggestion\"\n        v-for=\"(s, i) in suggestions\"\n        :key=\"i\"\n        :class=\"{ focused: i === focusIndex }\"\n        @mousedown=\"go(i)\"\n        @mouseenter=\"focus(i)\"\n      >\n        <a\n          :href=\"s.path\"\n          @click.prevent\n        >\n          <span\n            class=\"page-title\"\n            v-html=\"s.title || s.path\"\n          ></span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Flexsearch from \"flexsearch\";\n\n/* global SEARCH_MAX_SUGGESTIONS, SEARCH_PATHS, SEARCH_HOTKEYS */\nexport default {\n  data () {\n    return {\n      query: '',\n      focused: false,\n      focusIndex: 0,\n      placeholder: undefined,\n      index: null\n    }\n  },\n\n  mounted () {\n    this.placeholder = this.$site.themeConfig.searchPlaceholder || ''\n    document.addEventListener('keydown', this.onHotkey)\n\n    this.setupFlexSearch()\n  },\n\n  beforeDestroy () {\n    document.removeEventListener('keydown', this.onHotkey)\n  },\n\n  computed: {\n    showSuggestions () {\n      return (\n        this.focused\n        && this.suggestions\n        && this.suggestions.length\n      )\n    },\n\n    suggestions () {\n      const query = this.query.trim().toLowerCase()\n      if (!query) {\n        return\n      }\n\n      const result = this.index.search(query, 10).map(page => {\n        return {\n          ...page,\n          title: this.getQuerySnippet(page)\n        }\n      })\n\n      return result\n    },\n\n    // make suggestions align right when there are not enough items\n    alignRight () {\n      const navCount = (this.$site.themeConfig.nav || []).length\n      const repo = this.$site.repo ? 1 : 0\n      return navCount + repo <= 2\n    }\n  },\n\n  methods: {\n    getPageLocalePath (page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== '/' && page.path.indexOf(localePath) === 0) {\n          return localePath\n        }\n      }\n      return '/'\n    },\n\n    isSearchable (page) {\n      let searchPaths = SEARCH_PATHS\n\n      // all paths searchables\n      if (searchPaths === null) { return true }\n\n      searchPaths = Array.isArray(searchPaths) ? searchPaths : new Array(searchPaths)\n\n      return searchPaths.filter(path => {\n        return page.path.match(path)\n      }).length > 0\n    },\n\n    onHotkey (event) {\n      if (event.srcElement === document.body && SEARCH_HOTKEYS.includes(event.key)) {\n        this.$refs.input.focus()\n        event.preventDefault()\n      }\n    },\n\n    onUp () {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--\n        } else {\n          this.focusIndex = this.suggestions.length - 1\n        }\n      }\n    },\n\n    onDown () {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++\n        } else {\n          this.focusIndex = 0\n        }\n      }\n    },\n\n    go (i) {\n      if (!this.showSuggestions) {\n        return\n      }\n      const path = this.suggestions[i].path\n\n      if (this.$route.path !== path) {\n        this.$router.push(this.suggestions[i].path)\n      };\n\n      this.query = ''\n      this.focusIndex = 0\n    },\n\n    focus (i) {\n      this.focusIndex = i\n    },\n\n    unfocus () {\n      this.focusIndex = -1\n    },\n\n    setupFlexSearch () {\n      let defaultOptions = {\n        encode: \"extra\",\n        tokenize: \"full\",\n        threshold: 1,\n        resolution: 3\n      }\n      let options = this.$site.themeConfig.flexSearchOptions || defaultOptions\n\n      options = {\n        ...options,\n        doc: {\n          id: \"key\",\n          field: [\"title\", \"content\"]\n        }\n      }\n      this.index = new Flexsearch(options);\n      const { pages } = this.$site;\n      this.index.add(pages);\n    },\n\n    getQuerySnippet (page) {\n      const queryPosition = page.content.toLowerCase().indexOf(this.query)\n      const startIndex = queryPosition - 20 < 0 ? 0 : queryPosition - 20\n      const endIndex = queryPosition + 30\n      let querySnippet = page.content.slice(startIndex, endIndex)\n        .toLowerCase()\n        .replace(/[\\W_]+/g, \" \")\n\n      const queryWords = this.query.split(' ').filter((v, i, a) => !!v && a.indexOf(v) === i); \n      for (const word of queryWords) {\n        querySnippet = querySnippet.replace(new RegExp(word, 'gi'), `<strong class=\"text--primary\">${word}</strong>`)\n      }\n\n      if (querySnippet) {\n        return `<strong class=\"text--primary\">${page.title}</strong> > .. ${querySnippet} ..`\n      } else {\n        return page.title\n      }\n    },\n\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.search-box {\n  display: inline-block;\n  position: relative;\n  margin-right: 1rem;\n\n  input {\n    cursor: text;\n    width: 10rem;\n    height: 2rem;\n    color: lighten($textColor, 25%);\n    display: inline-block;\n    border: 1px solid darken($borderColor, 10%);\n    border-radius: 2rem;\n    font-size: 0.9rem;\n    line-height: 2rem;\n    padding: 0 0.5rem 0 2rem;\n    outline: none;\n    transition: all 0.2s ease;\n    background: #fff url('search.svg') 0.6rem 0.5rem no-repeat;\n    background-size: 1rem;\n\n    &:focus {\n      cursor: auto;\n      border-color: $accentColor;\n    }\n  }\n\n  .suggestions {\n    background: #fff;\n    width: 20rem;\n    position: absolute;\n    top: 1.5rem;\n    border: 1px solid darken($borderColor, 10%);\n    border-radius: 6px;\n    padding: 0.4rem;\n    list-style-type: none;\n\n    &.align-right {\n      right: 0;\n    }\n  }\n\n  .suggestion {\n    line-height: 1.4;\n    padding: 0.4rem 0.6rem;\n    border-radius: 4px;\n    cursor: pointer;\n\n    a {\n      white-space: normal;\n      color: lighten($textColor, 35%);\n\n      .page-title {\n        font-weight: 600;\n      }\n\n      .header {\n        font-size: 0.9em;\n        margin-left: 0.25em;\n      }\n    }\n\n    &.focused {\n      background-color: #f3f4f5;\n\n      a {\n        color: $accentColor;\n      }\n    }\n  }\n}\n\n@media (max-width: $MQNarrow) {\n  .search-box {\n    input {\n      cursor: pointer;\n      width: 0;\n      border-color: transparent;\n      position: relative;\n\n      &:focus {\n        cursor: text;\n        left: 0;\n        width: 10rem;\n      }\n    }\n  }\n}\n\n// Match IE11\n@media all and (-ms-high-contrast: none) {\n  .search-box input {\n    height: 2rem;\n  }\n}\n\n@media (max-width: $MQNarrow) and (min-width: $MQMobile) {\n  .search-box {\n    .suggestions {\n      left: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobile) {\n  .search-box {\n    margin-right: 0;\n\n    input {\n      left: 1rem;\n    }\n\n    .suggestions {\n      right: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobileNarrow) {\n  .search-box {\n    .suggestions {\n      width: calc(100vw - 4rem);\n    }\n\n    input:focus {\n      width: 8rem;\n    }\n  }\n}\n\n.text--primary {\n  color: $accentColor;\n}\n</style>\n"]}]}